<!doctype html>
<html>
<head>
    <title>Grove</title>
    <link rel="icon" type="image/ico" href="favicon.ico" />

    <!-- Styles -->
    <link href="bootstrap.slate.min.css" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link href="site.css" rel="stylesheet">

    <!-- Scripts -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="rot.min.js"></script> <!-- rev: b7c65505c102aead7f45e3d9790ede099c569ca2 -->
    <script src="buzz.js"></script>

    <script src="objects/game.js"></script>
    <script src="objects/screens.js"></script>
    <script src="objects/glyph.js"></script>
    <script src="objects/tile.js"></script>
    <script src="objects/map.js"></script>
    <script src="objects/ui.js"></script>
    <script src="objects/sound.js"></script>

    <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'>

    <script type="text/javascript">
        $(function(){
            if (!ROT.isSupported()) {
                alert("The rot.js library isn't supported by your browser. Sorry. :(");
            } else {
                // Prevent the window from scrolling when using arrow keys
                window.addEventListener("keydown", function(e) {
                    // space and arrow keys
                    if([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {
                        e.preventDefault();
                    }
                }, false);

                Game.init();
                Game.setDisplayWidth(Game.getDisplay().computeSize($("#gamebox").width(),0)[0]);
                $('#gamebox').append(Game.getDisplay().getContainer());
                Game.switchScreen(Game.Screen.introScreen);

                Game.UI.elements = {inspect: $("#ui-inspect")};

                $(".action-menu").on('click', 'a', null, function(e) {
                    var action = $(e.delegateTarget).data('action');
                    var target = $(this).data('target');

                    if (action == 'plant' || action == 'harvest') {
                        Game.selectTile();
                        Game.setCommandMode(action, {target: target});
                    }
                });
            }
        });
    </script>
</head>
<body>
<!--     <div class="navbar">
        <div class="navbar-inner">
            <a class="brand" href="#">Grove</a>
            <ul class="nav">
                <li class="active"><a href="#">Home</a></li>
            </ul>
        </div>
    </div> -->
    <div class="container">
        <div class="page-header" style="margin-bottom: 25px;">
            <h1>GroveRTS <small>Missing the Forest for the Trees</small></h1>
        </div>

        <div class="row" id="ui">
            <div class="span3"><div id="ui-actions" class="panel">
                <div class="btn-group hide" id="action-buttons">
                    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">Action <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-submenu">
                            <a>Plant</a>
                            <ul class="dropdown-menu action-menu" data-action="plant">
                                <li><a data-target="ironwood">Ironwood</a></li>
                                <li><a data-target="rock_elm">Rock Elm</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a>Harvest</a>
                            <ul class="dropdown-menu action-menu" data-action="harvest">
                                <li><a data-target="ironwood">Ironwood</a></li>
                                <li><a data-target="rock_elm">Rock Elm</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>                    
            </div></div>
            <div class="span6"><div id="ui-status"  class="panel"></div></div>
            <div class="span3"><div id="ui-inspect" class="panel"></div></div>
        </div>
        <div id="gamebox" style="text-align: center;"></div>
    </div>
    <footer class="container text-center">
        An entry for the Ludum Dare <a href="http://www.ludumdare.com/compo/category/minild/7drts-minild-44/">MiniLD #44 / 7dRTS</a> by <a href="https://github.com/toomuchpete/Grove">Pete Holiday</a>.
    </footer>
</body>
</html>